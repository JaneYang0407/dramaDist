import{bP as ge,a7 as v,r as i,ag as me,w as be,y as u,H as p,z as t,K as q,A as a,u as o,bZ as y,O as _,an as x,N as c,D as n,P as d,I as r,b_ as f,bR as _e}from"./vue-mr2w3f1M.js";import{_ as xe,a as B}from"./index-De3j1VZw.js";import{s as ke}from"./pinia--8Gmfku1.js";import{u as ye}from"./apiConfig-Dx1zKg0v.js";import{A as fe,h as P}from"./swiper-2AkFM_2d.js";import{D as L}from"./item-B5InoV3y.js";import{L as Be}from"./page-dKwHItdI.js";import"./vendor-ByJfu4Fc.js";import"./element-plus-BOnWL2JY.js";import"./axios-DW_MHI2K.js";const we={key:0},he={class:"idxCarouselPic aspect-[4/3] md:aspect-[12/5]"},Ce=["srcset"],De=["srcset"],$e=["src"],Se={class:"idxCarouselInfo Container Space w-full absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Me={class:"idxCarouselTitle text-30 font-bold leading-none mt-2 mb-3 md:mb-5 lg:text-40 xl:text-60"},Te={class:"idxCarouselRate flex items-center mb-8"},Ne={class:"text-sm leading-none"},Pe={key:0,class:"idxCarouselDes mb-5 line-clamp-3 max-sm:hidden"},Le={class:"text"},Re={key:1,class:"idxCarouselDots flex items-center justify-center flex-wrap -mb-5"},Ee=["onClick"],je={class:"idxDramaBlockBox MainBox outer Container"},Oe={class:"idxDramaBlock"},Ae={class:"idxDramaBlockTopic Topic1"},Ve={class:"idxDramaBlockNav"},ze=["aria-label"],Fe=["aria-label"],We={class:"idxDramaBlock"},qe={class:"idxDramaBlockTopic Topic1"},He={class:"idxDramaBlockNav"},Ke=["aria-label"],Ze=["aria-label"],Ge={class:"idxDramaBlock"},Je={class:"idxDramaBlockTopic Topic1"},Qe={class:"idxDramaBlockNav"},Ue=["aria-label"],Xe=["aria-label"],Ye={class:"idxDramaBlock"},Ie={class:"idxDramaBlockTopic Topic1"},ea={class:"idxDramaBlockNav"},aa=["aria-label"],sa=["aria-label"],la={__name:"index",setup(oa){const{locale:g}=ge(),R=v([]),E=v([]),H=v([]),K=v([]),k=v([]),Z=v([]),G=v([]),j=i(!0),J=ye();J.getApiConfig();const{apiConfig:m}=ke(J),Q=async()=>{try{j.value=!0;const[e,l,s,N]=await Promise.all([B.get("/movie/now_playing",{params:{language:g.value,page:1}}),B.get("/tv/on_the_air",{params:{language:g.value,page:1}}),B.get("/movie/popular",{params:{language:g.value,page:1}}),B.get("/tv/popular",{params:{language:g.value,page:1}})]);Object.assign(K,e.results),Object.assign(H,l.results),Object.assign(Z,s.results),Object.assign(G,N.results);const F=async(b,Y)=>Promise.all(b.map(async I=>{const pe=await B.get(`/${Y}/${I.id}`,{params:{language:g.value}});return{...I,category:Y==="movie"?"movie":"show",detail:pe}})),[ce,ve]=await Promise.all([F(e.results,"movie"),F(l.results,"tv")]);R.length=0,E.length=0,R.push(...ce),E.push(...ve);let W=[];for(let b=0;b<5;b++)W.push(R[b]),W.push(E[b]);Object.assign(k,W)}catch(e){console.error("Error fetching data:",e)}finally{j.value=!1}};me(Q),be(g,()=>{Q()});const U=i(null),X=i(0),ee=e=>{U.value=e},ae=e=>{X.value=e.realIndex};function se(e){U.value.slideTo(e)}const O=i(null),w=i(!0),h=i(!1),le=e=>{O.value=e},oe=e=>{e.isBeginning?w.value=!0:w.value=!1,e.isEnd?h.value=!0:h.value=!1},A=i(null),C=i(!0),D=i(!1),te=e=>{A.value=e},ie=e=>{e.isBeginning?C.value=!0:C.value=!1,e.isEnd?D.value=!0:D.value=!1},V=i(null),$=i(!0),S=i(!1),ne=e=>{V.value=e},re=e=>{e.isBeginning?$.value=!0:$.value=!1,e.isEnd?S.value=!0:S.value=!1},z=i(null),M=i(!0),T=i(!1),ue=e=>{z.value=e},de=e=>{e.isBeginning?M.value=!0:M.value=!1,e.isEnd?T.value=!0:T.value=!1};return(e,l)=>j.value?(t(),p(Be,{key:1})):(t(),u("div",we,[k.length>0?(t(),p(o(y),{key:0,class:"mb-7.5",modules:[o(fe)],"slides-per-view":1,loop:!0,autoplay:{delay:5e3,pauseOnMouseEnter:!0},onSwiper:ee,onSlideChange:ae},{default:r(()=>[(t(!0),u(_,null,x(k,s=>(t(),p(o(f),{key:s.id,class:"idxCarouselSlide"},{default:r(()=>[a("div",he,[a("picture",null,[a("source",{srcset:s.backdrop_path?`${o(m).images.secure_base_url}w780${s.backdrop_path}`:`${o(m).images.secure_base_url}original${s.poster_path}`,media:"(max-width: 575px)"},null,8,Ce),a("source",{srcset:s.backdrop_path?`${o(m).images.secure_base_url}original${s.backdrop_path}`:`${o(m).images.secure_base_url}original${s.poster_path}`,media:"(max-width: 1920px)"},null,8,De),a("img",{class:"w-full h-full free object-cover",src:s.backdrop_path?`${o(m).images.secure_base_url}original${s.backdrop_path}`:`${o(m).images.secure_base_url}original${s.poster_path}`,alt:"Banner"},null,8,$e)])]),a("div",Se,[a("div",Me,c(s.title??s.name),1),a("div",Te,[l[8]||(l[8]=a("i",{class:"icon icon-starFill block text-xs mr-1"},null,-1)),a("div",Ne,c(s.vote_average),1)]),s.overview!==""?(t(),u("div",Pe,c(s.overview),1)):q("",!0),d(o(_e),{to:`/${s.category}/${s.id}`,class:"idxCarouselMore BtnAny1 default w-fit"},{default:r(()=>[a("div",Le,c(e.$t("global.moreContent")),1)]),_:2},1032,["to"])])]),_:2},1024))),128))]),_:1},8,["modules"])):q("",!0),k.length>0?(t(),u("div",Re,[(t(!0),u(_,null,x(k,(s,N)=>(t(),u("div",{key:s.id,class:n(["idxCarouselDot h-2 rounded-full mb-5 mr-2 md:mr-5 cursor-pointer last:mr-0 xl:hover:bg-primary md:h-3.5",N===X.value?"bg-primary w-6 md:w-10":"bg-third w-2 md:w-3.5"]),onClick:F=>se(N)},null,10,Ee))),128))])):q("",!0),a("div",je,[a("div",Oe,[a("div",Ae,c(e.$t("show.airingTv")),1),a("div",{class:n(["idxDramaBlockList",[h.value?"":"more",w.value?"":"front"]])},[d(o(y),{modules:[o(P)],"slides-per-view":"auto",breakpoints:{0:{spaceBetween:10},768:{spaceBetween:0}},onSwiper:le,onSlideChange:oe},{default:r(()=>[(t(!0),u(_,null,x(H,s=>(t(),p(o(f),{key:s.id,class:"!w-fit md:!px-3.75"},{default:r(()=>[d(L,{class:"style1",data:s,category:"show"},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["modules"]),a("div",Ve,[a("button",{type:"button",class:n(["idxDramaBlockNavBtn prev",w.value?"disabled":""]),"aria-label":e.$t("global.previous"),onClick:l[0]||(l[0]=s=>O.value.slidePrev())},l[9]||(l[9]=[a("i",{class:"icon icon-arrowL"},null,-1)]),10,ze),a("button",{type:"button",class:n(["idxDramaBlockNavBtn next",h.value?"disabled":""]),"aria-label":e.$t("global.next"),onClick:l[1]||(l[1]=s=>O.value.slideNext())},l[10]||(l[10]=[a("i",{class:"icon icon-arrowR"},null,-1)]),10,Fe)])],2)]),a("div",We,[a("div",qe,c(e.$t("movie.playingMovie")),1),a("div",{class:n(["idxDramaBlockList",[D.value?"":"more",C.value?"":"front"]])},[d(o(y),{modules:[o(P)],"slides-per-view":"auto",breakpoints:{0:{spaceBetween:10},768:{spaceBetween:0}},onSwiper:te,onSlideChange:ie},{default:r(()=>[(t(!0),u(_,null,x(K,s=>(t(),p(o(f),{key:s.id,class:"!w-fit md:!px-3.75"},{default:r(()=>[d(L,{class:"style1",data:s,category:"movie"},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["modules"]),a("div",He,[a("button",{type:"button",class:n(["idxDramaBlockNavBtn prev",C.value?"disabled":""]),"aria-label":e.$t("global.previous"),onClick:l[2]||(l[2]=s=>A.value.slidePrev())},l[11]||(l[11]=[a("i",{class:"icon icon-arrowL"},null,-1)]),10,Ke),a("button",{type:"button",class:n(["idxDramaBlockNavBtn next",D.value?"disabled":""]),"aria-label":e.$t("global.next"),onClick:l[3]||(l[3]=s=>A.value.slideNext())},l[12]||(l[12]=[a("i",{class:"icon icon-arrowR"},null,-1)]),10,Ze)])],2)]),a("div",Ge,[a("div",Je,c(e.$t("movie.popularMovie")),1),a("div",{class:n(["idxDramaBlockList",[S.value?"":"more",$.value?"":"front"]])},[d(o(y),{modules:[o(P)],"slides-per-view":"auto",breakpoints:{0:{spaceBetween:10},768:{spaceBetween:0}},onSwiper:ne,onSlideChange:re},{default:r(()=>[(t(!0),u(_,null,x(Z,s=>(t(),p(o(f),{key:s.id,class:"!w-fit md:!px-3.75"},{default:r(()=>[d(L,{class:"style1",data:s,category:"movie"},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["modules"]),a("div",Qe,[a("button",{type:"button",class:n(["idxDramaBlockNavBtn prev",$.value?"disabled":""]),"aria-label":e.$t("global.previous"),onClick:l[4]||(l[4]=s=>V.value.slidePrev())},l[13]||(l[13]=[a("i",{class:"icon icon-arrowL"},null,-1)]),10,Ue),a("button",{type:"button",class:n(["idxDramaBlockNavBtn next",S.value?"disabled":""]),"aria-label":e.$t("global.next"),onClick:l[5]||(l[5]=s=>V.value.slideNext())},l[14]||(l[14]=[a("i",{class:"icon icon-arrowR"},null,-1)]),10,Xe)])],2)]),a("div",Ye,[a("div",Ie,c(e.$t("show.popularTv")),1),a("div",{class:n(["idxDramaBlockList",[T.value?"":"more",M.value?"":"front"]])},[d(o(y),{modules:[o(P)],"slides-per-view":"auto",breakpoints:{0:{spaceBetween:10},768:{spaceBetween:0}},onSwiper:ue,onSlideChange:de},{default:r(()=>[(t(!0),u(_,null,x(G,s=>(t(),p(o(f),{key:s.id,class:"!w-fit md:!px-3.75"},{default:r(()=>[d(L,{class:"style1",data:s,category:"show"},null,8,["data"])]),_:2},1024))),128))]),_:1},8,["modules"]),a("div",ea,[a("button",{type:"button",class:n(["idxDramaBlockNavBtn prev",M.value?"disabled":""]),"aria-label":e.$t("global.previous"),onClick:l[6]||(l[6]=s=>z.value.slidePrev())},l[15]||(l[15]=[a("i",{class:"icon icon-arrowL"},null,-1)]),10,aa),a("button",{type:"button",class:n(["idxDramaBlockNavBtn next",T.value?"disabled":""]),"aria-label":e.$t("global.next"),onClick:l[7]||(l[7]=s=>z.value.slideNext())},l[16]||(l[16]=[a("i",{class:"icon icon-arrowR"},null,-1)]),10,sa)])],2)])])]))}},ma=xe(la,[["__scopeId","data-v-39fda48e"]]);export{ma as default};
